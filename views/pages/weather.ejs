<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="stylesheet" href="/styles/weather.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="search">
                <form id="weatherForm" action="/weather" method="post">
                    <label for="cityInput"></label>
                    <input type="text" class="cityName" id="cityInput" name="city" placeholder="Enter the city name">
                    <button type="submit"><img src="/images/search.png" alt=""></button>
                    <p class="weather-data"></p>
                </form>
            </div>
            <div class="weather">
                <% if (weatherData) { %>
                <img src="http://openweathermap.org/img/wn/<%= weatherData.weather[0].icon %>.png" class="weather-icon" alt="Weather Icon">
                <h1 class="temp"><%= weatherData.main.temp %>°C</h1>
                <p class="feels-like">Feels like: <%= weatherData.main.feels_like %>°C</p>
                <h2 class="description"><%= weatherData.weather[0].description %></h2>
                <div class="details">
                    <div class="col">
                        <img src="/images/humidity.png" alt="Humidity">
                        <div>
                            <p class="humidity"><%= weatherData.main.humidity %>%</p>
                            <p>Humidity</p>
                        </div>
                    </div>
                    <div class="col">
                        <img src="/images/wind.png" alt="Wind Speed">
                        <div>
                            <p class="wind"><%= weatherData.wind.speed %> m/s</p>
                            <p>Wind speed</p>
                        </div>
                    </div>
                </div>
                <p class="country-code"><%= weatherData.sys.country %></p>
                <% } else { %>
                    <p>No weather data available. Please search for a city.</p>
                <% } %>
            </div>
        </div>
        <div id="map" style="width: 100%; height: 500px;"></div>
    </div>
</body>
</html>